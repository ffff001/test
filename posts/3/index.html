<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Replacing the VPS system | Smile's Blog</title><meta name=keywords content><meta name=description content="Something to say When we purchase VPS, the system of VPS is usually provided by the merchant.
But the systems they provide usually have a few glitches. So we&rsquo;re going to replace the system they provide.
I am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.
This method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don&rsquo;t have to worry."><meta name=author content="Smile"><link rel=canonical href=https://gokoururi.com/posts/3/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.e85ad0406048e8176e1c7661b25d5c69297ddfe41dc4124cf75ecb99a4f7b3d1.js integrity="sha256-6FrQQGBI6BduHHZhsl1caSl93+QdxBJM917LmaT3s9E=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://gokoururi.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://gokoururi.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://gokoururi.com/favicon-32x32.png><link rel=apple-touch-icon href=https://gokoururi.com/apple-touch-icon.png><link rel=mask-icon href=https://gokoururi.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.101.0"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Replacing the VPS system"><meta property="og:description" content="Something to say When we purchase VPS, the system of VPS is usually provided by the merchant.
But the systems they provide usually have a few glitches. So we&rsquo;re going to replace the system they provide.
I am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.
This method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don&rsquo;t have to worry."><meta property="og:type" content="article"><meta property="og:url" content="https://gokoururi.com/posts/3/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-03-06T12:20:19+08:00"><meta property="article:modified_time" content="2022-03-06T12:20:19+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Replacing the VPS system"><meta name=twitter:description content="Something to say When we purchase VPS, the system of VPS is usually provided by the merchant.
But the systems they provide usually have a few glitches. So we&rsquo;re going to replace the system they provide.
I am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.
This method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don&rsquo;t have to worry."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://gokoururi.com/posts/"},{"@type":"ListItem","position":2,"name":"Replacing the VPS system","item":"https://gokoururi.com/posts/3/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Replacing the VPS system","name":"Replacing the VPS system","description":"Something to say When we purchase VPS, the system of VPS is usually provided by the merchant.\nBut the systems they provide usually have a few glitches. So we\u0026rsquo;re going to replace the system they provide.\nI am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.\nThis method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don\u0026rsquo;t have to worry.","keywords":[],"articleBody":"Something to say When we purchase VPS, the system of VPS is usually provided by the merchant.\nBut the systems they provide usually have a few glitches. So we’re going to replace the system they provide.\nI am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.\nThis method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don’t have to worry.\nInstall grub-imageboot This method was originally found here, I modified its steps a little bit.\nIn this post, I use Debian as an example.\napt install grub-imageboot Create a directory Create an images directory under /boot and change directory to this directory.\nmkdir /boot/images \u0026\u0026 cd /boot/images Download system image The size of the system image should not exceed the size of the RAM.\nI take Debian’s mini.iso as an example, its size is 48M, I like its size.\ncurl -O https://ftp.debian.org/debian/dists/bullseye/main/installer-amd64/current/images/netboot/mini.iso If the command is not found, use apt to install curl.\nUpdate grub Use this command to update grub, when you reboot you can see mini.iso in grub.\nupdate-grub Before reboot (Very important) You should record the VPS’s IP, subnet mask and gateway.\nSome VPS IP is static, it can not be obtained through DHCP.\nUse this command to get the ip, subnet mask and gateway.\nip a \u0026\u0026 ip r If your VPS has IPv6, you can also use this command to get the ip, subnet mask and gateway.\nip a \u0026\u0026 ip r \u0026\u0026 ip -6 r It would be better if you could backup the network configuration.\nThe path to Debian’s network configuration is /etc/network/interfaces.\nThen you can reinstall the system to replace the VPS system.\nNormally, VPS is in Legacy BIOS mode, you can install it according to Legacy BIOS mode.\nIf your VPS is in UEFI mode, please follow the UEFI mode to install.\nThis method is not necessarily applicable to all VPS merchants, if it can not be used, please find other methods.\n","wordCount":"344","inLanguage":"en","datePublished":"2022-03-06T12:20:19+08:00","dateModified":"2022-03-06T12:20:19+08:00","author":{"@type":"Person","name":"Smile"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://gokoururi.com/posts/3/"},"publisher":{"@type":"Organization","name":"Smile's Blog","logo":{"@type":"ImageObject","url":"https://gokoururi.com/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://gokoururi.com/ accesskey=h title="Smile's Blog (Alt + H)">Smile's Blog</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://gokoururi.com/ title=Home><span>Home</span></a></li><li><a href=https://gokoururi.com/archives title=Archives><span>Archives</span></a></li><li><a href=https://gokoururi.com/about title=About><span>About</span></a></li><li><a href=https://gokoururi.com/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://gokoururi.com/>Home</a>&nbsp;»&nbsp;<a href=https://gokoururi.com/posts/>Posts</a></div><h1 class=post-title>Replacing the VPS system</h1><div class=post-meta><span title='2022-03-06 12:20:19 +0800 CST'>March 6, 2022</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Smile</div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#something-to-say aria-label="Something to say">Something to say</a></li><li><a href=#install-grub-imageboot aria-label="Install grub-imageboot">Install grub-imageboot</a></li><li><a href=#create-a-directory aria-label="Create a directory">Create a directory</a></li><li><a href=#download-system-image aria-label="Download system image">Download system image</a></li><li><a href=#update-grub aria-label="Update grub">Update grub</a></li><li><a href=#before-reboot-very-important aria-label="Before reboot (Very important)">Before reboot (Very important)</a></li></ul></div></details></div><div class=post-content><h1 id=something-to-say>Something to say<a hidden class=anchor aria-hidden=true href=#something-to-say>#</a></h1><p>When we purchase VPS, the system of VPS is usually provided by the merchant.</p><p>But the systems they provide usually have a few glitches. So we&rsquo;re going to replace the system they provide.</p><p>I am reluctant to use the popular scripts on the internet to replace the system of the VPS, I like to do it myself.</p><p>This method requires the use of VNC, please make sure your VPS merchant offers VNC, usually they will, you don&rsquo;t have to worry.</p><h1 id=install-grub-imageboot>Install grub-imageboot<a hidden class=anchor aria-hidden=true href=#install-grub-imageboot>#</a></h1><p>This method was originally found <a href=https://netboot.xyz/docs/booting/grub/>here</a>, I modified its steps a little bit.</p><p>In this post, I use Debian as an example.</p><pre tabindex=0><code>apt install grub-imageboot
</code></pre><h1 id=create-a-directory>Create a directory<a hidden class=anchor aria-hidden=true href=#create-a-directory>#</a></h1><p>Create an <code>images</code> directory under <code>/boot</code> and change directory to this directory.</p><pre tabindex=0><code>mkdir /boot/images &amp;&amp; cd /boot/images
</code></pre><h1 id=download-system-image>Download system image<a hidden class=anchor aria-hidden=true href=#download-system-image>#</a></h1><p>The size of the system image should not exceed the size of the RAM.</p><p>I take Debian&rsquo;s <code>mini.iso</code> as an example, its size is 48M, I like its size.</p><pre tabindex=0><code>curl -O https://ftp.debian.org/debian/dists/bullseye/main/installer-amd64/current/images/netboot/mini.iso
</code></pre><p>If the command is not found, use apt to install <code>curl</code>.</p><h1 id=update-grub>Update grub<a hidden class=anchor aria-hidden=true href=#update-grub>#</a></h1><p>Use this command to update grub, when you reboot you can see <code>mini.iso</code> in grub.</p><pre tabindex=0><code>update-grub
</code></pre><h1 id=before-reboot-very-important>Before reboot (Very important)<a hidden class=anchor aria-hidden=true href=#before-reboot-very-important>#</a></h1><p>You should record the VPS&rsquo;s IP, subnet mask and gateway.</p><p>Some VPS IP is static, it can not be obtained through DHCP.</p><p>Use this command to get the ip, subnet mask and gateway.</p><pre tabindex=0><code>ip a &amp;&amp; ip r
</code></pre><p>If your VPS has IPv6, you can also use this command to get the ip, subnet mask and gateway.</p><pre tabindex=0><code>ip a &amp;&amp; ip r &amp;&amp; ip -6 r
</code></pre><p>It would be better if you could backup the network configuration.</p><p>The path to Debian&rsquo;s network configuration is <code>/etc/network/interfaces</code>.</p><p>Then you can reinstall the system to replace the VPS system.</p><p>Normally, VPS is in Legacy BIOS mode, you can install it according to Legacy BIOS mode.</p><p>If your VPS is in UEFI mode, please follow the UEFI mode to install.</p><p>This method is not necessarily applicable to all VPS merchants, if it can not be used, please find other methods.</p></div><footer class=post-footer><nav class=paginav><a class=prev href=https://gokoururi.com/posts/4/><span class=title>« Prev Page</span><br><span>Deploy WireGuard</span></a>
<a class=next href=https://gokoururi.com/posts/2/><span class=title>Next Page »</span><br><span>Deploy V2Ray</span></a></nav></footer></article></main><footer class=footer><span>© 2020-2022 <a href=/>Smile&rsquo;s Blog</a> (<a href=/about/#license>License</a> under <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>BY-NC-SA 4.0</a>)</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>